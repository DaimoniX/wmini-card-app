<!--pages/display/display.wxml-->
<view class="container" id="tp">
  <view class="article-container _save" style="background-color: {{bgColor}};">
    <image class="bgimage _save" src="{{bgImage}}" mode="aspectFill" hidden="{{bgImage === ''}}"></image>
    <view class="article-content _save" style="background-color: {{bgImage === '' ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 0.95)'}};">
      <text class="wb heading center _save" data-text="~ Article ~">~ Article ~</text>
      <text class="wb heading center _save" data-text="{{articleData[0]}}">{{articleData[0]}}</text>
      <text class="subheading _save" data-text="Title:">Title:</text>
      <text class="wb text _save" data-text="{{articleData[1]}}">{{articleData[1]}}</text>
      <text class="subheading _save" data-text="Link:">Link:</text>
      <text class="wb text _save" data-text="{{articleData[2]}}">{{articleData[2]}}</text>
      <view class="qr _save">
        <image src="{{qrImage}}" class="qrc _save"></image>
      </view>
    </view>
  </view>
  <swiper class="customization" current="{{index}}">
    <swiper-item class="s-item">
      <view class="vflow">
        <button type="primary" bindtap="setTab" data-tab="1">Customize</button>
        <view class="hflow">
          <button type="primary" bindtap="preview" loading="{{pageImage.length<1}}" disabled="{{pageImage.length<1}}">Preview</button>
          <button type="primary" bindtap="save" loading="{{pageImage.length<1}}" disabled="{{pageImage.length<1}}">Save</button>
        </view>
      </view>
    </swiper-item>
    <swiper-item class="s-item">
      <view class="vflow">
        <view class="hflow">
          <button type="primary" bindtap="selectImage">Select image</button>
          <button type="primary" bindtap="clearImage" disabled="{{bgImage === ''}}">Clear image</button>
        </view>
        <text>Background color:</text>
        <colorpicker bindchange="setColor" r="{{bgRGB[0]}}" g="{{bgRGB[1]}}" b="{{bgRGB[2]}}"></colorpicker>
        <view class="spacer"></view>
        <button id="rt" type="primary" bindtap="setTab" data-tab="0">Return</button>
      </view>
    </swiper-item>
  </swiper>
</view>

<canvas id="qrc" type="2d" class="hcanvas"></canvas>
<canvas id="pagec" type="2d" class="hcanvas"></canvas>